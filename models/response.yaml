title: MDS API Response
description: Shared partial response schema definitions, to be composed with other schemas in MDS OpenAPI.
type: object

x-stoplight:
  id: kejk1tkl7fdd2

properties:
  data_latency:
    type: object
    description: The data returned by a near-realtime endpoint should be as close to realtime as possible, but in no case should it be more than 5 minutes out-of-date.
    required:
      - last_updated
      - ttl
    properties:
      last_updated:
        $ref: ./data-types.yaml#/properties/timestamp
        description: Timestamp indicating the last time the data in this feed was updated.
      ttl:
        $ref: ./data-types.yaml#/properties/integer_positive
        description: Integer representing the number of milliseconds before the data in this feed will be updated again (0 if the data should always be refreshed).

  payload:
    type: object
    description: Shared schema definition for an MDS API response payload. Does not include `data` property, but requires it.
    required:
      - version
      - data
    properties:
      version:
        type: string
        description: The version of MDS this data represents.
        pattern: ^2\.[0-9]+\.[0-9]+$
        examples:
          - 2.0.0
      links:
        type: object
        required:
          - next
        additionalProperties: false
        properties:
          first:
            type:
              - "null"
              - string
            title: The URL to the first page of data.
            examples:
              - https://data.provider.co/trips/first
            format: uri
          last:
            type:
              - "null"
              - string
            title: The URL to the last page of data.
            examples:
              - https://data.provider.co/trips/last
            format: uri
          prev:
            type:
              - "null"
              - string
            title: The URL to the previous page of data.
            examples:
              - https://data.provider.co/trips/prev
            format: uri
          next:
            type:
              - "null"
              - string
            title: The URL to the next page of data.
            examples:
              - https://data.provider.co/trips/next
            format: uri
            pattern: ^(.*)$
