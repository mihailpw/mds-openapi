title: modes/micromobility/event
description: Event definition for the `micromobility` mode.
type: object

x-stoplight:
  id: ii72nhqky41mp

properties:
  vehicle_state:
    description: The state of the vehicle.
    enum:
      - removed
      - available
      - non_operational
      - reserved
      - on_trip
      - non_contactable
      - missing
      - elsewhere
  event_types:
    description: Vehicle event types for state change.
    items:
      type: string
      enum:
        - agency_drop_off
        - agency_pick_up
        - battery_charged
        - battery_low
        - changed_geographies
        - comms_lost
        - comms_restored
        - compliance_pick_up
        - decommissioned
        - located
        - maintenance
        - maintenance_pick_up
        - not_located
        - off_hours
        - on_hours
        - provider_drop_off
        - rebalance_pick_up
        - reservation_cancel
        - reservation_start
        - system_resume
        - system_suspend
        - trip_cancel
        - trip_end
        - trip_enter_jurisdiction
        - trip_leave_jurisdiction
        - trip_start
        - unspecified

if:
  properties:
    event_types:
      contains:
        - trip_cancel
        - trip_end
        - trip_enter_jurisdiction
        - trip_leave_jurisdiction
        - trip_start
then:
  properties:
    trip_ids:
      minItems: 1
